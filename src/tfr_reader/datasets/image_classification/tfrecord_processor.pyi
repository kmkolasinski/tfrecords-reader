from collections.abc import Iterator

import numpy as np
from numpy.typing import NDArray

class TFRecordProcessor:
    def __init__(
        self,
        tfrecord_path: str,
        target_width: int = 320,
        target_height: int = 320,
        num_threads: int = 4,
    ) -> None: ...
    def shuffle(self) -> None: ...
    def reset(self) -> None: ...
    def decode_and_resize_image(self, image_bytes: bytes) -> NDArray[np.uint8]: ...
    def read_batch(
        self, batch_size: int
    ) -> tuple[NDArray[np.uint8] | None, NDArray[np.int32] | None]: ...
    def __len__(self) -> int: ...
    def __iter__(self) -> Iterator[tuple[NDArray[np.uint8], int]]: ...
    def __next__(self) -> tuple[NDArray[np.uint8], int]: ...
